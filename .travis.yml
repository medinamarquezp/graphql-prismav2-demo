dist: xenial
language: node_js
node_js:
  - stable
cache:
  directories:
    - node_modules
env:
  - URI="http://127.0.0.1"
  - PORT=8000
  - TOKEN_SECRET="TEST_CI7c@RmMp82hjn+nrAh-YFV5V"
  - PRISMA_DB_URL="file:./db/ci.db"
before_install:
  - npm install -g env-cmd
install:
  - npm install
  - npm run prisma:generate:lnx --env=ci
  - cd src/store/
  - npm run prisma:migrate:lnx:save --env=ci --name=ci_init
  - cd .. && cd ..
